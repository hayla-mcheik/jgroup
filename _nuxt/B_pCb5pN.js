import{_ as h}from"./-mxyazPf.js";import{r as o,c as l,a as r,j as x,m as _,B as n,C as d,t as R,d as v,b as V,w as j,e as C,o as u,f as N}from"#entry";import{u as A}from"./CSrAqISc.js";import{_ as S}from"./DlAUqK2U.js";const B={class:"flex items-center justify-center min-h-screen bg-gray-100 dark:bg-gray-900 p-4 font-sans"},P={class:"w-full max-w-md bg-white dark:bg-gray-800 rounded-2xl shadow-2xl overflow-hidden transform transition-all duration-300 scale-95 hover:scale-100"},T={class:"p-8 space-y-6"},U=["disabled"],q={key:0},O={key:1},D={key:0,class:"bg-red-100 dark:bg-red-900 text-red-700 dark:text-red-300 p-4 rounded-md text-sm"},E={key:1,class:"bg-green-100 dark:bg-green-900 text-green-700 dark:text-green-300 p-4 rounded-md text-sm"},F={class:"text-center text-sm text-gray-500 dark:text-gray-400"},M={__name:"register",setup(I){A();const k=C(),g=o(""),m=o(""),c=o(""),f=o(""),p=o(0),a=o(""),i=o(!1),b=o(!1),w=async()=>{a.value="",i.value=!0,b.value=!1;const{public:y}=N();try{const e=await fetch(`${y.apiBase}/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({name:g.value,email:m.value,password:c.value,password_confirmation:f.value,role:p.value})}),s=await e.json();e.ok?(b.value=!0,console.log("Registration successful."),setTimeout(()=>{k.push("/login")},2e3)):s.errors?a.value=Object.values(s.errors).flat().join(" "):s.message?a.value=s.message:a.value="Failed to register. Please try again."}catch(e){console.error("Registration error:",e),a.value="An unexpected error occurred. Please try again later."}finally{i.value=!1}};return(y,e)=>{const s=h;return u(),l("div",B,[r("div",P,[r("div",T,[e[12]||(e[12]=r("h2",{class:"text-3xl font-extrabold text-center text-gray-800 dark:text-gray-100"}," Create an Account ",-1)),r("form",{onSubmit:_(w,["prevent"]),class:"space-y-4"},[r("div",null,[e[5]||(e[5]=r("label",{for:"name",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Full Name ",-1)),n(r("input",{id:"name","onUpdate:modelValue":e[0]||(e[0]=t=>g.value=t),type:"text",required:"",class:"mt-1 block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-200"},null,512),[[d,g.value]])]),r("div",null,[e[6]||(e[6]=r("label",{for:"email",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Email Address ",-1)),n(r("input",{id:"email","onUpdate:modelValue":e[1]||(e[1]=t=>m.value=t),type:"email",required:"",class:"mt-1 block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-200"},null,512),[[d,m.value]])]),r("div",null,[e[7]||(e[7]=r("label",{for:"password",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Password ",-1)),n(r("input",{id:"password","onUpdate:modelValue":e[2]||(e[2]=t=>c.value=t),type:"password",required:"",class:"mt-1 block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-200"},null,512),[[d,c.value]])]),r("div",null,[e[8]||(e[8]=r("label",{for:"password_confirmation",class:"block text-sm font-medium text-gray-700 dark:text-gray-300"}," Confirm Password ",-1)),n(r("input",{id:"password_confirmation","onUpdate:modelValue":e[3]||(e[3]=t=>f.value=t),type:"password",required:"",class:"mt-1 block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-gray-50 dark:bg-gray-700 dark:text-gray-200"},null,512),[[d,f.value]])]),n(r("input",{type:"hidden","onUpdate:modelValue":e[4]||(e[4]=t=>p.value=t)},null,512),[[d,p.value]]),r("button",{type:"submit",class:"w-full flex justify-center py-3 px-4 border border-transparent rounded-full shadow-sm text-base font-medium text-white bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-300 ease-in-out transform hover:scale-105",disabled:i.value},[i.value?(u(),l("span",O,"Registering...")):(u(),l("span",q,"Register"))],8,U)],32),a.value?(u(),l("div",D,[r("p",null,R(a.value),1)])):x("",!0),b.value?(u(),l("div",E,[...e[9]||(e[9]=[r("p",null,"Registration successful! Redirecting to login...",-1)])])):x("",!0),r("div",F,[e[11]||(e[11]=v(" Already have an account? ",-1)),V(s,{to:"/login",class:"font-medium text-blue-600 hover:text-blue-500"},{default:j(()=>[...e[10]||(e[10]=[v(" Sign in here ",-1)])]),_:1})])])])])}}},G=S(M,[["__scopeId","data-v-bab0a4dd"]]);export{G as default};
