import{U as v,r as p,p as h}from"#entry";function g(){const e=v("toasts",()=>[]),s=p(!1),u=[],o=()=>`${Date.now()}-${Math.random().toString(36).slice(2,9)}`;async function i(){if(!(s.value||u.length===0)){for(s.value=!0;u.length>0;){const t=u.shift();await h(),e.value=[...e.value,t].slice(-5)}s.value=!1}}function l(t){const n={id:o(),open:!0,...t};return u.push(n),i(),n}function r(t,n){const a=e.value.findIndex(d=>d.id===t);a!==-1&&(e.value[a]={...e.value[a],...n})}function c(t){const n=e.value.findIndex(a=>a.id===t);n!==-1&&(e.value[n]={...e.value[n],open:!1}),setTimeout(()=>{e.value=e.value.filter(a=>a.id!==t)},200)}function f(){e.value=[]}return{toasts:e,add:l,update:r,remove:c,clear:f}}export{g as u};
